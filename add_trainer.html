<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Add Trainer</title>
    
    <link rel="stylesheet" href="add_trainer.css" />
    <link
      rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body class="admin-page">
   
    <main class="admin-main">
        <section class="content-display">
            <div class="form-toggle">
                <button id="showTrainerForm">Add Trainer</button>
                <button id="showStudentForm">Add Student</button>
            </div>

            <div id="trainerForm" class="form-section">
                <h2>Add New Trainer</h2>
                <form id="addTrainerForm">
                    <label for="trainerAvatar">Avatar:</label>
                    <input type="file" id="trainerAvatar" accept="image/*" required><br><br>

                    <label for="trainerName">Trainer Name:</label>
                    <input type="text" id="trainerName" required><br><br>

                    <label for="subject">Subject:</label>
                    <input type="text" id="subject" required><br><br>

                    <label for="email">Email:</label>
                    <input type="email" id="email" required><br><br>

                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" required><br><br>

                    <label for="experience">Experience (years):</label>
                    <input type="number" id="experience" required><br><br>

                    <label for="bio">Bio:</label>
                    <textarea id="bio" required></textarea><br><br>

                    <button type="submit">Add Trainer</button>
                </form>
                <div id="message"></div>
            </div>

            <div id="studentForm" class="form-section" style="display: none;">
                <h2>Add New Student</h2>
                <form id="addStudentForm">
                    <label for="studentAvatar">Avatar:</label>
                    <input type="file" id="studentAvatar" accept="image/*" required><br><br>

                    <label for="studentName">Student Name:</label>
                    <input type="text" id="studentName" required><br><br>

                    <label for="studentEmail">Email:</label>
                    <input type="email" id="studentEmail" required><br><br>

                    <label for="studentPhone">Phone:</label>
                    <input type="tel" id="studentPhone" required><br><br>

                    <label for="enrollmentDate">Enrollment Date:</label>
                    <input type="date" id="enrollmentDate" required><br><br>

                    <label for="course">Course:</label>
                    <input type="text" id="course" required><br><br>

                    <button type="submit">Add Student</button>
                </form>
                <div id="studentMessage"></div>
            </div>
        </section>
    </main>
    <script>
        document.getElementById('addTrainerForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const avatarInput = document.getElementById('trainerAvatar');
            if (avatarInput.files.length > 0) {
                const file = avatarInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    const trainer = {
                        avatar: e.target.result,
                        name: document.getElementById('trainerName').value,
                        subject: document.getElementById('subject').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        experience: document.getElementById('experience').value,
                        bio: document.getElementById('bio').value
                    };
                    let trainers = JSON.parse(localStorage.getItem('trainers')) || [];
                    trainers.push(trainer);
                    localStorage.setItem('trainers', JSON.stringify(trainers));
                    document.getElementById('message').textContent = 'Trainer added successfully!';
                    document.getElementById('addTrainerForm').reset();
                };
                reader.readAsDataURL(file);
            } else {
                document.getElementById('message').textContent = 'Please select an avatar image.';
            }
        });

        document.getElementById('addStudentForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const avatarInput = document.getElementById('studentAvatar');
            if (avatarInput.files.length > 0) {
                const file = avatarInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    const student = {
                        avatar: e.target.result,
                        name: document.getElementById('studentName').value,
                        email: document.getElementById('studentEmail').value,
                        phone: document.getElementById('studentPhone').value,
                        enrollmentDate: document.getElementById('enrollmentDate').value,
                        course: document.getElementById('course').value
                    };
                    let students = JSON.parse(localStorage.getItem('students')) || [];
                    students.push(student);
                    localStorage.setItem('students', JSON.stringify(students));
                    document.getElementById('studentMessage').textContent = 'Student added successfully!';
                    document.getElementById('addStudentForm').reset();
                };
                reader.readAsDataURL(file);
            } else {
                document.getElementById('studentMessage').textContent = 'Please select an avatar image.';
            }
        });

        document.getElementById('showTrainerForm').addEventListener('click', function() {
            document.getElementById('trainerForm').style.display = 'block';
            document.getElementById('studentForm').style.display = 'none';
        });

        document.getElementById('showStudentForm').addEventListener('click', function() {
            document.getElementById('trainerForm').style.display = 'none';
            document.getElementById('studentForm').style.display = 'block';
        });

        function filterFeatures() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase();
            const lists = document.querySelectorAll('.featuresList');
            lists.forEach(ul => {
                const li = ul.getElementsByTagName('li');
                for (let i = 0; i < li.length; i++) {
                    const a = li[i].getElementsByTagName('a')[0];
                    const textValue = a.textContent || a.innerText;
                    if (textValue.toLowerCase().indexOf(filter) > -1) {
                        li[i].style.display = "";
                    } else {
                        li[i].style.display = "none";
                    }
                }
            });
        }
    </script>
</body>
</html>
